<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Mocha Spec Runner</title>
  <link rel="stylesheet" href="lib/mocha/mocha.css">
</head>
<body>
  <div id="mocha"></div>
  <script src="../app/scripts/libs/require.js"></script>
  <script>
    require.config({
        paths: {
          // JavaScript folders.
          // eg. require(['jquery', 'canvas', 'routes/sub'],
            libs: '../app/scripts/libs'
          , plugins: '../app/scripts/plugins'
          , spec: 'spec'

          , routes: '../app/scripts/routes'
          , views: '../app/scripts/views'
          , app: '../app/scripts/app'
          , main: '../app/scripts/main'

          // Libraries.
          , jquery: '../app/scripts/libs/jquery'
          , lodash: '../app/scripts/libs/lodash'
          , backbone: '../app/scripts/libs/backbone'
      }
      , shim: {
        // Backbone library depends on lodash and jQuery.
          backbone: {
            deps: ['lodash', 'jquery']
          , exports: 'Backbone'
        }
      }
    });

    require([
        'lib/chai.js'
      , 'lib/mocha/mocha.js'
    ], function(chai) {

      mocha.setup({
          ui: 'bdd'
        , globals: ['_', '$', 'jQuery*', 'Backbone']
      });
      expect = chai.expect;

      require([
          'spec/example.js'
        , 'spec/second.js'
      ], function() {
        require(['runner/mocha.js']);
      });
    });
  </script>
</body>
</html>
